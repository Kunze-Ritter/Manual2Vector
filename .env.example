# ============================================================================
# KRAI-Engine Environment Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ----------------------------------------------------------------------------
DATABASE_URL=postgresql://krai_user:your_password@localhost:5432/krai_production
DATABASE_TYPE=postgresql

# ----------------------------------------------------------------------------
# Object Storage Configuration (MinIO S3-Compatible)
# ----------------------------------------------------------------------------
OBJECT_STORAGE_TYPE=s3
OBJECT_STORAGE_ENDPOINT=http://localhost:9000
OBJECT_STORAGE_ACCESS_KEY=minioadmin
OBJECT_STORAGE_SECRET_KEY=minioadmin
OBJECT_STORAGE_USE_SSL=false
OBJECT_STORAGE_REGION=auto

# Bucket Configuration
OBJECT_STORAGE_BUCKET_DOCUMENTS=documents
OBJECT_STORAGE_BUCKET_IMAGES=images
OBJECT_STORAGE_BUCKET_ERROR=error-images
OBJECT_STORAGE_BUCKET_PARTS=parts-images

# Public URLs (for direct access)
OBJECT_STORAGE_PUBLIC_URL_DOCUMENTS=http://localhost:9000/documents
OBJECT_STORAGE_PUBLIC_URL_IMAGES=http://localhost:9000/images
OBJECT_STORAGE_PUBLIC_URL_ERROR=http://localhost:9000/error-images
OBJECT_STORAGE_PUBLIC_URL_PARTS=http://localhost:9000/parts-images

# Storage Upload Flags
UPLOAD_IMAGES_TO_STORAGE=true
UPLOAD_DOCUMENTS_TO_STORAGE=true

# Presigned URL Expiry (seconds)
OBJECT_STORAGE_PRESIGNED_EXPIRY_SECONDS=3600

# Mock Mode (for testing without storage)
OBJECT_STORAGE_ALLOW_MOCK=false

# ----------------------------------------------------------------------------
# ⚠️  BREAKING CHANGE: Cloudflare R2 Support Removed
# ----------------------------------------------------------------------------
# R2 support has been removed in favor of MinIO-only storage.
# 
# Migration Guide:
# - R2_ACCESS_KEY_ID           → OBJECT_STORAGE_ACCESS_KEY
# - R2_SECRET_ACCESS_KEY       → OBJECT_STORAGE_SECRET_KEY
# - R2_ENDPOINT_URL            → OBJECT_STORAGE_ENDPOINT
# - R2_BUCKET_NAME_DOCUMENTS   → OBJECT_STORAGE_BUCKET_DOCUMENTS
# - R2_BUCKET_NAME_ERROR       → OBJECT_STORAGE_BUCKET_ERROR
# - R2_BUCKET_NAME_PARTS       → OBJECT_STORAGE_BUCKET_PARTS
# - R2_PUBLIC_URL_DOCUMENTS    → OBJECT_STORAGE_PUBLIC_URL_DOCUMENTS
# - R2_PUBLIC_URL_ERROR        → OBJECT_STORAGE_PUBLIC_URL_ERROR
# - R2_PUBLIC_URL_PARTS        → OBJECT_STORAGE_PUBLIC_URL_PARTS
# - UPLOAD_IMAGES_TO_R2        → UPLOAD_IMAGES_TO_STORAGE
# - UPLOAD_DOCUMENTS_TO_R2     → UPLOAD_DOCUMENTS_TO_STORAGE
# - R2_USE_SSL                 → OBJECT_STORAGE_USE_SSL
# - R2_REGION                  → OBJECT_STORAGE_REGION
#
# See docs/MIGRATION_R2_TO_MINIO.md for detailed migration instructions.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# AI Configuration (Ollama)
# ----------------------------------------------------------------------------
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL_EMBEDDING=nomic-embed-text
OLLAMA_MODEL_VISION=llava
AI_VISUAL_EMBEDDING_MODEL=clip-vit-base-patch32

# ----------------------------------------------------------------------------
# API Configuration
# ----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000

# ----------------------------------------------------------------------------
# Brightcove Video Enrichment (Optional)
# ----------------------------------------------------------------------------
# Enable Brightcove API enrichment for video metadata
ENABLE_BRIGHTCOVE_ENRICHMENT=false

# Brightcove API Credentials (OAuth 2.0)
# Get credentials from: https://studio.brightcove.com/products/videocloud/admin/api-authentication
BRIGHTCOVE_ACCOUNT_ID=your_account_id_here
BRIGHTCOVE_CLIENT_ID=your_client_id_here
BRIGHTCOVE_CLIENT_SECRET=your_client_secret_here

# Brightcove API Configuration
BRIGHTCOVE_API_TIMEOUT=30
BRIGHTCOVE_ENRICHMENT_BATCH_SIZE=10
BRIGHTCOVE_RATE_LIMIT_DELAY=1.0
