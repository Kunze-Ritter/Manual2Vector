# ================================
# SUPABASE CONFIGURATION
# ================================
# Get from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api

SUPABASE_URL=https://YOUR_PROJECT.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ================================
# POSTGRESQL DIRECT CONNECTION
# ================================
# For cross-schema queries (image deduplication, stage detection)
# Get from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/database
# Format: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres

POSTGRES_URL=postgresql://postgres.YOUR_PROJECT:YOUR_PASSWORD@aws-0-eu-central-1.pooler.supabase.com:5432/postgres

# Alternative name (both work):
# DATABASE_URL=postgresql://postgres.YOUR_PROJECT:YOUR_PASSWORD@aws-0-eu-central-1.pooler.supabase.com:5432/postgres

# ================================
# CLOUDFLARE R2 STORAGE
# ================================
R2_ACCESS_KEY_ID=your_r2_access_key
R2_SECRET_ACCESS_KEY=your_r2_secret_key
R2_ENDPOINT_URL=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
R2_PUBLIC_URL_DOCUMENTS=https://your-custom-domain.com/documents
R2_PUBLIC_URL_ERROR=https://your-custom-domain.com/error-codes
R2_PUBLIC_URL_PARTS=https://your-custom-domain.com/parts

# ================================
# OLLAMA AI SERVICE
# ================================
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL_EMBEDDING=nomic-embed-text:latest
OLLAMA_MODEL_TEXT=llama3.2:latest

# Vision Model (für Image-Processing/OCR)
# Optionen für 8GB VRAM GPU:
#   llava:7b        - 4GB VRAM, gute Qualität, empfohlen!
#   llava:7b-q4     - 2.5GB VRAM, schnell, OK Qualität
#   llava:latest    - 11GB VRAM, beste Qualität (braucht mehr GPU!)
OLLAMA_MODEL_VISION=llava:7b

# ================================
# OPTIONAL: TESSERACT OCR
# ================================
# Windows default:
# TESSERACT_PATH=C:\Program Files\Tesseract-OCR\tesseract.exe

# Linux/Mac:
# TESSERACT_PATH=/usr/bin/tesseract

# ================================
# DOCUMENT STORAGE PATH (Optional)
# ================================
# Custom path where your PDF documents are stored
# If not set, the system will search in multiple default locations
# 
# Windows example:
# DOCUMENT_STORAGE_PATH=C:\service_documents
#
# Linux/Mac example:
# DOCUMENT_STORAGE_PATH=/var/data/service_documents
#
# Docker example:
# DOCUMENT_STORAGE_PATH=/app/service_documents
#
# If not set, system searches in (priority order):
# - Project: ./service_documents, ./documents, ./pdfs, ./uploads
# - Windows: C:/service_documents, C:/documents, ~/Documents/service_documents
# - Linux/Mac: /var/data/service_documents, /opt/service_documents, ~/service_documents
# - Docker: /app/service_documents, /data/service_documents, /mnt/documents

# DOCUMENT_STORAGE_PATH=

# ================================
# NOTES
# ================================
# 
# POSTGRES_URL is REQUIRED for:
# - Image deduplication (prevents duplicate images)
# - Accurate stage detection (shows which stages are completed)
# - Cross-schema queries (krai_intelligence, krai_content, etc.)
#
# Without POSTGRES_URL:
# - Image deduplication will be disabled (duplicates will be stored)
# - Stage detection will be simplified (less accurate)
# - Storage costs will increase (~10-20% due to duplicates)
#
# How to get POSTGRES_URL:
# 1. Go to Supabase Dashboard
# 2. Settings → Database
# 3. Copy "Connection string" for "Session pooler"
# 4. Use format: postgresql://postgres.[project]:[password]@[host]:5432/postgres
