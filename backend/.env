# üöÄ KR-AI-Engine (Minimal) - Environment Configuration
# Cloud-First Setup mit agnostischen Namen
# Kopiere diese Datei zu .env und passe die Werte an

# ===========================================
# SYSTEM CONFIGURATION
# ===========================================
COMPOSE_PROJECT_NAME=krai-minimal
ENVIRONMENT=development
DEBUG=true
VERBOSE_LOGGING=true

# ===========================================
# SUPABASE CLOUD CONFIGURATION
# ===========================================
SUPABASE_URL=https://crujfdpqdjzcfqeyhang.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNydWpmZHBxZGp6Y2ZxZXloYW5nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNDY1MTUsImV4cCI6MjA3NDYyMjUxNX0.kDSf9jMYbNgzV8v1f-_kSoSy_cAMFLG367m9ZbDsBkw
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNydWpmZHBxZGp6Y2ZxZXloYW5nIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTA0NjUxNSwiZXhwIjoyMDc0NjIyNTE1fQ.5MnFW5MuKdS6ZNvKv5iTWH-jv_ZB1SgeoP7cVGI7cdE
SUPABASE_STORAGE_URL=https://crujfdpqdjzcfqeyhang.supabase.co/storage/v1

# Database Connection (f√ºr direkte PostgreSQL Verbindung)
POSTGRES_URL=postgresql://postgres.crujfdpqdjzcfqeyhang:XKFOM0PLv6QY46DT@aws-0-eu-central-1.pooler.supabase.com:5432/postgres
DATABASE_CONNECTION_URL=postgresql://postgres:YOUR_DB_PASSWORD@db.crujfdpqdjzcfqeyhang.supabase.co:5432/postgres
DATABASE_PASSWORD=YOUR_DATABASE_PASSWORD

# Database Storage Buckets
DATABASE_STORAGE_BUCKET=krai-documents
DATABASE_IMAGE_BUCKET=krai-images

# ===========================================
# R2 STORAGE CONFIGURATION (Cloudflare)
# ===========================================
R2_ACCESS_KEY_ID=9c59473961632448c91db3ef9dbd35ab
R2_SECRET_ACCESS_KEY=9cc62a9506ac9ec6e8373a39fa86268bc187632e5548e8c37b1c6c9c071755e4
R2_BUCKET_NAME_DOCUMENTS=krai-documents
R2_BUCKET_NAME_ERROR=krai-error-images
R2_BUCKET_NAME_PARTS=krai-parts-images
R2_ENDPOINT_URL=https://a88f92c913c232559845adb9001a5d14.eu.r2.cloudflarestorage.com
R2_REGION=auto

# ===========================================
# R2 PUBLIC URLS
# ===========================================
R2_PUBLIC_URL_DOCUMENTS=https://pub-68e63cf2d6ac4222adaab70dfbc29ec4.r2.dev
R2_PUBLIC_URL_ERROR=https://pub-e327cb3371c741e08c5e8672e817d9cf.r2.dev
R2_PUBLIC_URL_PARTS=https://pub-61c8b15e7bf24febbf8e0197ab237041.r2.dev

# ===========================================
# OLLAMA CONFIGURATION (Windows App)
# ===========================================
# Ollama Windows App (l√§uft auf localhost:11434)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_HOST=localhost
OLLAMA_PORT=11434

# AI Models (werden automatisch heruntergeladen)
OLLAMA_LLM_MODEL=llama3.2:3b
OLLAMA_EMBEDDING_MODEL=embeddinggemma
OLLAMA_VISION_MODEL=llava:7b

# ===========================================
# KRAI API CONFIGURATION
# ===========================================
KRAI_API_HOST=0.0.0.0
KRAI_API_PORT=8002
KRAI_API_EXTERNAL_PORT=8002
KRAI_LOG_LEVEL=INFO

# API Security
API_SECRET_KEY=YOUR_API_SECRET_KEY_HERE_32_CHARS_MINIMUM
JWT_SECRET=YOUR_JWT_SECRET_HERE_32_CHARS_MINIMUM
JWT_EXPIRY=3600

# ===========================================
# REDIS CONFIGURATION (Optional)
# ===========================================
# Redis f√ºr Caching (optional, falls verwendet)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===========================================
# DOCUMENT PROCESSING CONFIGURATION
# ===========================================
# Chunking Settings
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_CHUNKS_PER_DOCUMENT=1000

# Image Processing
MAX_IMAGE_SIZE_MB=10
SUPPORTED_IMAGE_FORMATS=jpg,jpeg,png,gif,webp
SUPPORTED_DOCUMENT_FORMATS=pdf,docx,txt

# Processing Limits
MAX_DOCUMENT_SIZE_MB=50
MAX_PROCESSING_TIME_SECONDS=300

# ===========================================
# CLOUD STORAGE CONFIGURATION
# ===========================================
# Storage Provider (database oder object_storage)
STORAGE_PROVIDER=database

# File Upload Settings
MAX_FILE_SIZE_MB=50
ALLOWED_MIME_TYPES=application/pdf,image/jpeg,image/png,image/gif,image/webp,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# Storage Buckets
DOCUMENT_BUCKET=krai-documents
IMAGE_BUCKET=krai-images
ERROR_IMAGE_BUCKET=krai-error-images
PARTS_IMAGE_BUCKET=krai-parts-images

# ===========================================
# AI MODEL CONFIGURATION
# ===========================================
# Model Settings
EMBEDDING_DIMENSION=768
EMBEDDING_MODEL_NAME=embeddinggemma
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2048

# Processing Flags
ENABLE_OCR=true
ENABLE_VISION_AI=true
ENABLE_SEMANTIC_SEARCH=true
ENABLE_DOCUMENT_CLASSIFICATION=true

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8002
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ===========================================
# MONITORING & LOGGING
# ===========================================
# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/krai.log

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# Development Flags
DEVELOPMENT_MODE=true
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_SWAGGER_UI=true
SWAGGER_UI_URL=/docs

# Testing
ENABLE_TEST_MODE=false
MOCK_AI_RESPONSES=false
SKIP_MODEL_DOWNLOAD=false

# ===========================================
# EXTERNAL INTEGRATIONS
# ===========================================
# Optional: Email Service (f√ºr Benachrichtigungen)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM_EMAIL=noreply@your-domain.com

# Optional: Webhook URLs
WEBHOOK_SERVICE_URL=
WEBHOOK_SERVICE_SECRET=

# ===========================================
# BACKUP & RECOVERY
# ===========================================
# Backup Settings
ENABLE_AUTO_BACKUP=false
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7
BACKUP_STORAGE_PATH=./backups

# ===========================================
# PERFORMANCE TUNING
# ===========================================
# Processing Performance
MAX_CONCURRENT_PROCESSES=4
PROCESSING_QUEUE_SIZE=100
ENABLE_ASYNC_PROCESSING=true

# Memory Settings
MAX_MEMORY_USAGE_MB=2048
ENABLE_MEMORY_OPTIMIZATION=true

# ===========================================
# FEATURE FLAGS
# ===========================================
# Feature Toggles
ENABLE_DOCUMENT_UPLOAD=true
ENABLE_BATCH_PROCESSING=true
ENABLE_REAL_TIME_PROCESSING=true
ENABLE_ADVANCED_ANALYTICS=false
ENABLE_USER_MANAGEMENT=false

# ===========================================
# CLOUD DEPLOYMENT
# ===========================================
# Production Settings (f√ºr Cloud Deployment)
PRODUCTION_MODE=false
CLOUD_DEPLOYMENT=false
AUTO_SCALING=false
LOAD_BALANCER_SERVICE_URL=

# ===========================================
# NOTIFICATION SETTINGS
# ===========================================
# Processing Notifications
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_WEBHOOK_NOTIFICATIONS=false
NOTIFICATION_EMAIL=admin@your-domain.com

# ===========================================
# CUSTOMIZATION
# ===========================================
# Branding
APP_NAME=KR-AI-Engine
APP_VERSION=2.0.0
COMPANY_NAME=Kunze & Ritter GmbH
SUPPORT_EMAIL=support@kunze-ritter.de

# Custom Processing Rules
CUSTOM_CLASSIFICATION_RULES=
CUSTOM_EXTRACTION_PATTERNS=
CUSTOM_VALIDATION_RULES=
